<div class="card">
    <div class="card-header">
        <strong>Messages</strong>
        <i class="fa fa-spinner fa-spin" style="font-size: 15px;margin-left: 10px;" *ngIf="loading"></i> 
        <span class="float-right"> Refresh 10 sec 
        <label class="switch switch-text switch-pill switch-primary autoRefresh">
            <input checked="" class="switch-input" type="checkbox" [(ngModel)]="autoRefresh" (click)="toggleAutoRefresh()">
            <span class="switch-label" data-off="Off" data-on="On"></span>
            <span class="switch-handle"></span>
        </label>
        </span>
        <small></small>
    </div>
    <div class="card-block">
        <div class="row">
            <div class="form-group col-xs-12">
                <label for="city">Send Echo</label>
                <form class="form-panel" (keydown)="keyDownFunction($event)">
                    <div class="input-group">
                        <input class="form-control" type="text" name="echoMessage" placeholder="Echo Message" [(ngModel)]="echoMessage"/>
                        <span class="input-group-btn">
                            <button class="btn btn-primary" (click)="echo()">Go</button>
                        </span>
                    </div>
                </form>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                        <th class="col-xs-2">Time ago</th>
                        <th class="col-xs-5">Message</th>
                        <th class="hidden-xs-down">Up time</th>
                        <th class="hidden-xs-down">Log time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let message of messages">
                        <td class="">{{message.enqueued | duration}}</td>
                        <td>{{message.message}}</td>
                        <td class="hidden-xs-down">
                            <span *ngIf="message.up" class="badge badge-success">{{message.up | duration}}</span>
                        </td>
                        <td class="text-muted hidden-xs-down">{{message.enqueued | mydate:'yyyy-MM-dd HH:mm'}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


